<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bajaj Finserv Insta EMI Card - FinTech Solutions</title>
    <link rel="stylesheet" href="../../styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .product-detail-section {
            margin-top: 80px;
            padding: 4rem 0;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            min-height: calc(100vh - 80px);
        }

        .product-detail-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .product-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .product-header h1 {
            font-size: 3rem;
            font-weight: 800;
            color: #f1f5f9;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #60a5fa 0%, #a78bfa 50%, #f472b6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .product-header p {
            font-size: 1.2rem;
            color: #cbd5e1;
            margin-bottom: 2rem;
        }

        .product-info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            margin-bottom: 3rem;
        }

        .product-image-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .product-image {
            width: 300px;
            height: 300px;
            background: transparent;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 2rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 15px;
        }

        .product-details {
            background: rgba(30, 41, 59, 0.8);
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(96, 165, 250, 0.2);
            backdrop-filter: blur(10px);
        }

        .product-details h2 {
            font-size: 2rem;
            font-weight: 700;
            color: #f1f5f9;
            margin-bottom: 1rem;
        }

        .product-details p {
            color: #cbd5e1;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .product-features {
            list-style: none;
            padding: 0;
            margin-bottom: 2rem;
        }

        .product-features li {
            color: #cbd5e1;
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            font-size: 1.1rem;
        }

        .product-features li i {
            color: #10b981;
            font-size: 1rem;
        }

        .withdrawal-info {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .withdrawal-info h3 {
            color: #10b981;
            font-size: 1.3rem;
            margin-bottom: 1rem;
        }

        .withdrawal-info p {
            color: #cbd5e1;
            margin-bottom: 0.5rem;
        }

        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 2rem;
        }

        .btn-back {
            background: rgba(30, 41, 59, 0.8);
            color: #cbd5e1;
            border: 1px solid rgba(96, 165, 250, 0.3);
            padding: 1rem 2rem;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .btn-back:hover {
            background: rgba(30, 41, 59, 1);
            border-color: rgba(96, 165, 250, 0.5);
        }

        .btn-apply {
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
        }

        .btn-apply:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 35px rgba(59, 130, 246, 0.4);
        }

        .card-details-section {
            background: rgba(30, 41, 59, 0.8);
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(96, 165, 250, 0.2);
            backdrop-filter: blur(10px);
            margin-top: 2rem;
        }

        .card-details-section h2 {
            font-size: 2rem;
            font-weight: 700;
            color: #f1f5f9;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            color: #cbd5e1;
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 1rem;
            border: 1px solid rgba(96, 165, 250, 0.3);
            border-radius: 10px;
            background: rgba(15, 23, 42, 0.8);
            color: #f1f5f9;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #60a5fa;
            box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.1);
        }

        .form-group input::placeholder {
            color: #64748b;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .btn-submit {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
            width: 100%;
            margin-top: 1rem;
        }

        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 35px rgba(16, 185, 129, 0.4);
        }

        .btn-submit:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .success-message {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: 15px;
            padding: 1.5rem;
            margin-top: 1rem;
            text-align: center;
            display: none;
        }

        .success-message h4 {
            color: #10b981;
            margin-bottom: 0.5rem;
        }

        .success-message p {
            color: #cbd5e1;
            margin-bottom: 0.5rem;
        }

        .customer-name {
            color: #10b981;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .success-icon {
            color: #10b981;
            font-size: 1.5rem;
            margin-right: 0.5rem;
        }

        .fee-display {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1rem;
            text-align: center;
        }

        .fee-display h4 {
            color: #10b981;
            margin-bottom: 0.5rem;
        }

        .fee-display p {
            color: #cbd5e1;
            font-size: 1.1rem;
        }

        .amount-error {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1rem;
            text-align: center;
        }

        .amount-error h4 {
            color: #ef4444;
            margin-bottom: 0.5rem;
        }

        .amount-error p {
            color: #fca5a5;
            font-size: 1rem;
        }

        @media (max-width: 768px) {
            .product-header h1 {
                font-size: 2rem;
            }
            
            .product-info-grid {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                flex-direction: column;
            }

            .form-row {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="navbar">
            <div class="nav-container">
                <div class="nav-logo">
                    <img src="../../image/header logo.png" alt="FinTech Solutions" class="logo-img">
                </div>
                <div class="nav-menu" id="nav-menu">
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="../../index.html" class="nav-link">Home</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a href="../../index.html#individuals" class="nav-link">For Individuals <i class="fas fa-chevron-down"></i></a>
                        </li>
                        <li class="nav-item dropdown">
                            <a href="../../index.html#businesses" class="nav-link">For Businesses <i class="fas fa-chevron-down"></i></a>
                        
                        </li>
                        <li class="nav-item">
                            <a href="../../index.html#about" class="nav-link">About Us</a>
                        </li>
                        <li class="nav-item">
                            <a href="../../index.html#contact" class="nav-link">Contact Us</a>
                        </li>
                    </ul>
                </div>
                <div class="nav-buttons">
                    <a href="../../login.html" class="btn-login" id="loginBtn">Login</a>
                    <div class="profile-section" id="profileSection" style="display: none;">
                        <div class="profile-dropdown">
                            <button class="profile-btn" id="profileBtn">
                                <i class="fas fa-user-circle"></i>
                            </button>
                            <div class="profile-menu" id="profileMenu">
                                <div class="profile-header">
                                    <i class="fas fa-user-circle"></i>
                                    <span id="userName">User</span>
                                </div>
                                <div class="profile-divider"></div>
                                <a href="#" class="profile-link">
                                    <i class="fas fa-user"></i>
                                    My Profile
                                </a>
                                <a href="#" class="profile-link">
                                    <i class="fas fa-cog"></i>
                                    Settings
                                </a>
                                <a href="#" class="profile-link">
                                    <i class="fas fa-chart-line"></i>
                                    Dashboard
                                </a>
                                <div class="profile-divider"></div>
                                <a href="#" class="profile-link logout" id="logoutBtn">
                                    <i class="fas fa-sign-out-alt"></i>
                                    Logout
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- Product Detail Section -->
    <section class="product-detail-section">
        <div class="product-detail-container">
            <div class="product-header">
                <h1>Bajaj Finserv Insta EMI Card</h1>
                <p>Withdraw money from your EMI card with the cheapest fees</p>
            </div>

            <div class="product-info-grid">
                <div class="product-image-section">
                    <div class="product-image">
                        <img src="../../image/bajaj card.png" alt="Bajaj Finserv Insta EMI Card" class="product-img">
                    </div>
                </div>

                <div class="product-details">
                    <h2>Product Information</h2>
                    <p>The Bajaj Finserv Insta EMI Card is an existing EMI card that allows you to withdraw money from your EMI card. It provides instant access to credit with flexible EMI options and competitive withdrawal fees.</p>

                    <div class="withdrawal-info">
                        <h3><i class="fas fa-info-circle"></i> Withdrawal Information</h3>
                        <p><strong>Withdrawal Fee:</strong> Starting from 7% per transaction</p>
                        <p><strong>Processing Time:</strong> Instant to 3-4 Working hours</p>
                        <p><strong>Minimum Amount:</strong> ₹30,000</p>
                        <p><strong>Maximum Amount:</strong> Up to your available EMI limit</p>
                    </div>

                    <h3>Key Features</h3>
                    <ul class="product-features">
                        <li><i class="fas fa-check"></i> Instant credit access</li>
                        <li><i class="fas fa-check"></i> Flexible EMI repayment options</li>
                        <li><i class="fas fa-check"></i> 24/7 customer support</li>
                        <li><i class="fas fa-check"></i> Quick processing time</li>
                        <li><i class="fas fa-check"></i> Secure transactions</li>
                        <li><i class="fas fa-check"></i> No hidden charges</li>
                        <li><i class="fas fa-check"></i> Easy application process</li>
                    </ul>
                </div>
            </div>

            <!-- Card Details Form Section -->
            <div class="card-details-section">
                <h2>Enter Your Card Bajaj Finserv Insta EMI Card Details</h2>
                
                <div class="fee-display">
                    <h4>Withdrawal Fee: 7% + GST</h4>
                </div>

                <div class="amount-error" id="amountError" style="display: none;">
                    <h4><i class="fas fa-exclamation-triangle"></i> Minimum Amount Required</h4>
                    <p>Please enter an amount of ₹30,000 or more to proceed with withdrawal</p>
                </div>

                <form id="cardDetailsForm">
                    <div class="form-group">
                        <label for="cardNumber">Card Number</label>
                        <input type="text" id="cardNumber" name="cardNumber" placeholder="1234 5678 9012 3456" maxlength="19" required>
                    </div>

                    <div class="form-group">
                        <label for="cardHolderName">Card Holder Name</label>
                        <input type="text" id="cardHolderName" name="cardHolderName" placeholder="Enter cardholder name" required>
                    </div>

                    <div class="form-group">
                        <label for="expiryDate">Expiry Date</label>
                        <input type="text" id="expiryDate" name="expiryDate" placeholder="MM/YY" maxlength="5" required>
                    </div>

                    <div class="form-group">
                        <label for="withdrawalAmount">Withdrawal Amount (₹)</label>
                        <input type="number" id="withdrawalAmount" name="withdrawalAmount" placeholder="Minimum ₹30,000" min="30000" required>
                    </div>

                    <div class="form-group">
                        <label for="emiTenure">EMI Tenure (Months)</label>
                        <select id="emiTenure" name="emiTenure" required>
                            <option value="">Select EMI Tenure</option>
                            <option value="3">3 Months</option>
                            <option value="6">6 Months</option>
                            <option value="9">9 Months</option>
                            <option value="12">12 Months</option>
                            <option value="18">18 Months</option>
                            <option value="24">24 Months</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="mobileNumber">Registered Mobile Number</label>
                        <input type="tel" id="mobileNumber" name="mobileNumber" placeholder="Enter your mobile number" maxlength="10" required>
                    </div>

                    <button type="submit" class="btn-submit" id="submitBtn">
                        Proceed
                    </button>
                </form>

                <div class="success-message" id="successMessage">
                    <h4><i class="fas fa-check-circle success-icon"></i> Card Details Verified!</h4>
                    <p>Welcome, <span class="customer-name" id="customerName"></span></p>
                    <p>Redirecting to bank details...</p>
                </div>
            </div>
        </div>
    </section>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Check login status and update UI
            const userData = JSON.parse(localStorage.getItem('userData') || '{}');
            const loginBtn = document.getElementById('loginBtn');
            const profileSection = document.getElementById('profileSection');
            const userName = document.getElementById('userName');
            const profileBtn = document.getElementById('profileBtn');
            const profileMenu = document.getElementById('profileMenu');
            const logoutBtn = document.getElementById('logoutBtn');
            
            // Check if user is logged in
            if (userData.isLoggedIn) {
                // Hide login button and show profile section
                loginBtn.style.display = 'none';
                profileSection.style.display = 'block';
                userName.textContent = userData.name || 'User';
            }
            
            // Profile dropdown functionality
            profileBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                profileBtn.parentElement.classList.toggle('active');
            });
            
            // Close dropdown when clicking outside
            document.addEventListener('click', function(e) {
                if (!profileBtn.contains(e.target) && !profileMenu.contains(e.target)) {
                    profileBtn.parentElement.classList.remove('active');
                }
            });
            
            // Logout functionality
            logoutBtn.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Clear user data
                localStorage.removeItem('userData');
                
                // Show confirmation
                if (confirm('Are you sure you want to logout?')) {
                    // Hide profile section and show login button
                    profileSection.style.display = 'none';
                    loginBtn.style.display = 'inline-block';
                    
                    // Close dropdown
                    profileBtn.parentElement.classList.remove('active');
                    
                    // Show success message
                    alert('You have been logged out successfully!');
                }
            });

            // Card details form functionality
            const cardDetailsForm = document.getElementById('cardDetailsForm');
            const withdrawalAmountInput = document.getElementById('withdrawalAmount');
            const feeAmountDisplay = document.getElementById('feeAmount');
            const amountErrorDisplay = document.getElementById('amountError');
            const submitBtn = document.getElementById('submitBtn');
            const successMessage = document.getElementById('successMessage');
            const customerNameDisplay = document.getElementById('customerName');

            // Calculate fee when withdrawal amount changes
            withdrawalAmountInput.addEventListener('input', function() {
                const amount = parseFloat(this.value);
                if (amount >= 30000) {
                    const fee = amount * 0.07; // 7% fee
                    const totalAmount = amount - fee;
                    feeAmountDisplay.textContent = `Fee: ₹${fee.toLocaleString()} | You will receive: ₹${totalAmount.toLocaleString()}`;
                    amountErrorDisplay.style.display = 'none';
                    this.style.borderColor = '#10b981';
                } else if (amount > 0) {
                    feeAmountDisplay.textContent = 'Fee will be calculated based on withdrawal amount';
                    amountErrorDisplay.style.display = 'block';
                    this.style.borderColor = '#ef4444';
                } else {
                    feeAmountDisplay.textContent = 'Fee will be calculated based on withdrawal amount';
                    amountErrorDisplay.style.display = 'none';
                    this.style.borderColor = 'rgba(96, 165, 250, 0.3)';
                }
            });

            // Format card number input (16 digits)
            const cardNumberInput = document.getElementById('cardNumber');
            cardNumberInput.addEventListener('input', function() {
                let value = this.value.replace(/\s/g, '').replace(/[^0-9]/gi, '');
                
                // Limit to 16 digits
                if (value.length > 16) {
                    value = value.substring(0, 16);
                }
                
                // Format with spaces every 4 digits
                let formattedValue = value.match(/.{1,4}/g)?.join(' ') || value;
                this.value = formattedValue;
                
                // Add visual feedback for valid/invalid length
                if (value.length === 16) {
                    this.style.borderColor = '#10b981';
                } else if (value.length > 0) {
                    this.style.borderColor = '#f59e0b';
                } else {
                    this.style.borderColor = 'rgba(96, 165, 250, 0.3)';
                }
            });

            // Format mobile number input
            const mobileNumberInput = document.getElementById('mobileNumber');
            mobileNumberInput.addEventListener('input', function() {
                this.value = this.value.replace(/[^0-9]/g, '');
            });

            // Format expiry date input (MM/YY)
            const expiryDateInput = document.getElementById('expiryDate');
            expiryDateInput.addEventListener('input', function() {
                let value = this.value.replace(/\D/g, ''); // Remove non-digits
                
                // Limit to 4 digits
                if (value.length > 4) {
                    value = value.substring(0, 4);
                }
                
                // Add slash after 2 digits
                if (value.length >= 2) {
                    value = value.substring(0, 2) + '/' + value.substring(2);
                }
                
                this.value = value;
                
                // Validate when complete (MM/YY format)
                if (value.length === 5) {
                    const month = parseInt(value.substring(0, 2));
                    const year = parseInt('20' + value.substring(3, 5));
                    const currentYear = new Date().getFullYear();
                    const currentMonth = new Date().getMonth() + 1;
                    
                    if (month < 1 || month > 12) {
                        this.style.borderColor = '#ef4444';
                    } else if (year < currentYear || (year === currentYear && month < currentMonth)) {
                        this.style.borderColor = '#ef4444';
                    } else {
                        this.style.borderColor = '#10b981';
                    }
                } else if (value.length > 0) {
                    this.style.borderColor = '#f59e0b';
                } else {
                    this.style.borderColor = 'rgba(96, 165, 250, 0.3)';
                }
            });

            // Form submission
            cardDetailsForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Validate EMI tenure (must be selected)
                const emiTenure = document.getElementById('emiTenure').value;
                if (!emiTenure) {
                    alert('Please select an EMI tenure.');
                    document.getElementById('emiTenure').focus();
                    return;
                }
                
                // Validate card number (must be exactly 16 digits)
                const cardNumber = cardNumberInput.value.replace(/\s/g, '');
                if (cardNumber.length !== 16) {
                    alert('Please enter a valid 16-digit card number.');
                    cardNumberInput.focus();
                    return;
                }
                
                // Validate expiry date (MM/YY format)
                const expiryDate = expiryDateInput.value;
                if (expiryDate.length !== 5 || !expiryDate.includes('/')) {
                    alert('Please enter a valid expiry date in MM/YY format.');
                    expiryDateInput.focus();
                    return;
                }
                
                const month = parseInt(expiryDate.substring(0, 2));
                const year = parseInt('20' + expiryDate.substring(3, 5));
                const currentYear = new Date().getFullYear();
                const currentMonth = new Date().getMonth() + 1;
                
                if (month < 1 || month > 12) {
                    alert('Please enter a valid month (01-12).');
                    expiryDateInput.focus();
                    return;
                }
                
                if (year < currentYear || (year === currentYear && month < currentMonth)) {
                    alert('Please enter a valid expiry date that is not expired.');
                    expiryDateInput.focus();
                    return;
                }
                
                // Disable submit button and show loading
                submitBtn.disabled = true;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
                
                // Simulate processing for 2 seconds
                setTimeout(() => {
                    // Hide form and show success message
                    cardDetailsForm.style.display = 'none';
                    successMessage.style.display = 'block';
                    
                    // Display customer name
                    const cardHolderName = document.getElementById('cardHolderName').value;
                    customerNameDisplay.textContent = cardHolderName;
                    
                    // Redirect to bank details page after 3 seconds
                    setTimeout(() => {
                        window.location.href = 'bank-details.html';
                    }, 3000);
                }, 2000);
            });
        });
    </script>
</body>
</html>
